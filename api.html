<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orion API</title>
</head>
<body>
    <script>
        function handleRequest() {
            const urlParams = new URLSearchParams(window.location.search);
            const command = urlParams.get('command');

            if (command === 'test') {
                const response = {
                    test: true
                };
                document.body.innerText = JSON.stringify(response);
            } else {
                const errorResponse = {
                    error: 'Неизвестная команда'
                };
                document.body.innerText = JSON.stringify(errorResponse);
            }
        }

        handleRequest();

        const express = require('express');
        const app = express();
        const port = 3000;

        app.get('/api', (req, res) => {
            const command = req.query.command;

            if (command === 'test') {
                return res.json({ test: true });
            } else {
                return res.json({ error: 'Неизвестная команда' });
            }
        });

        app.listen(port, () => {
            console.log(`Сервер запущен на http://localhost:${port}`);
        });
        
    </script>
</body>
</html>
